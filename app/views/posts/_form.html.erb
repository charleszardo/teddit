<% action = post.persisted? ? post_url(post) : sub_posts_url %>
<% method = post.persisted? ? :patch : :post %>

<form action="<%= action %>" method="post">
<%= auth_token %>
<input type="hidden" name="_method" value="<%= method %>">
<label for="post_title">Title</label>
<input type="text" name="post[title]" value="<%= post.title %>" id="post_title">
<br>
<label for="post_url">URL</label>
<input type="text" name="post[url]" value="<%= post.url %>" id="post_url">
<br>
<label for="post_content">Content</label>
<textarea name="post[content]" rows="20" cols="80" id="post_content"><%= post.content %></textarea>
<br>
<input type="submit" value="submit">
</form>
